-- Criando D_CALENDARIO (p.01)

DECLARE @D_INI DATE = '01/07/2018'
DECLARE @D_FIM DATE = '30/04/2022'

DECLARE @ANO_INI  INT=YEAR(@D_INI)
DECLARE @ANO_FIM  INT=YEAR(@D_FIM)

--SELECT DATEFROMPARTS(@ANO_INI,1,1)
--SELECT DATEFROMPARTS(@ANO_FIM,12,31)

--SELECT DATEDIFF(DAY, DATEFROMPARTS(@ANO_INI,1,1), DATEFROMPARTS(@ANO_FIM,12,31)) + 1
SET @D_INI = DATEFROMPARTS(@ANO_INI,1,1)
SET @D_FIM = DATEFROMPARTS(@ANO_FIM,12,31)

SELECT DATEADD (DAY, a.SEQUENCIA - 1, @D_INI) AS [DATA]
FROM VEZES a
WHERE a.SEQUENCIA <= DATEDIFF(DAY, DATEFROMPARTS(@ANO_INI,1,1), DATEFROMPARTS(@ANO_FIM,12,31)) + 1